### 로그인 API



로그인 API에서는 아래 조건들을 고려합니다. 

- 유저의 입력 정보 (웹메일, 비밀번호)가 일치하는 경우 / 일치하지 않은 경우 --> 로그인 성공 여부 판단 
- `로그인 상태 유지하기` 클릭 여부 
  - 로그인 상태 유지하기 관련 기능 추가 후 클라이언트 측에서는 확인할 수 있는 방법은 실제 쿠키 값의 유효기간을 확인하는 방법이 있습니다. 
  - 해당 방식으로 로그인 상태 유지했을 때와 아닐 때의 쿠키 속의 **리프레시** 토큰 값의 유효기간을 확인하고 넘겨주시면 됩니다! 
  - Expires=Thu, 25 Mar 2021 05:18:54 **GMT** (한국시간대는 GMT + 9) 하시면 됩니다. 
  - 로그인 상태 유지하기 클릭 안 했을 때 : 로그인 시점부터 **3시간** 
  - 로그인 상태 유지하기 클릭했을 때 : 로그인 시점부터 **14일** (2주) 

**URL** : `/auth/login` 

**Method** : `POST`

**Authentication** : 인증 필요 X 

**Request Body** : 

```json
// Request Body는 `로그인 상태 유지하기` 클릭 여부에 따라서 달라집니다. (중요!)

// 1. `로그인 상태 유지하기` 클릭한 경우
// 이 경우에는 `로그인 상태 유지하기` 클릭 시점에 안내를 할 내용이 있습니다. 
// -> "PC방이나 공용PC일 경우 자동 로그인 기능을 활성화하면 보안이 위험할 수 있습니다" (빨간 글씨)
// 위 안내 내용을 보여주시면 됩니다. (표현방식 상관 없음)
{
    "webMail" : "e@dongguk.edu",
    "password" : "1",
    "isKeepLoggedInState_Y" : "Y"
 }


// 2. `로그인 상태 유지하기` 클릭하지 않고 로그인하는 경우 
{
    "webMail" : "example@dongguk.edu",
    "password" : "비밀번호"
 }
```



**Respose : **

**1) 일치하는 경우**

메인 인덱스 화면으로 이동 또는 유저의 가장 마지막 페이지로 이동

```json
[HTTP/1.1 200]
{
    "statusCode": 200,
    "message": "로그인 성공",
    "responseData": null
}
```



단, 실제 유저가 입력한 정보가 일치하더라도 로그인 요청 유저가 **회원 탈퇴** 또는 **서비스 이용 제재**인 경우는 각각 다음과 같은 응답을 받는다.

- 회원 탈퇴한 유저가 로그인 요청을 하는 경우

```json
[HTTP/1.1 200]
{
    "statusCode": 401,
    "timestamp": "2021-03-23 05:25:32",
    "message": "가입하지 않은 아이디이거나, 잘못된 비밀번호입니다.",
    "requestPath": "/auth/login"
}
```

- 서비스 이용 제재를 받은 유저가 로그인 요청을 하는 경우

```json
[HTTP/1.1 200]
{
    "statusCode": 401,
    "timestamp": "2021-03-25 11:07:50",
    "message": "관리자에 의해서 서비스 이용이 제재된 웹메일 계정입니다. 로그인 문의는 관리자 메일을 통해 연락해주세요.",
    "requestPath": "/auth/login"
}
```

**2)  일치하지 않는 경우**

```json
[HTTP/1.1 200]
{
    "statusCode": 401,
    "timestamp": "2021-03-25 11:06:56",
    "message": "가입하지 않은 아이디이거나, 잘못된 비밀번호입니다.",
    "requestPath": "/auth/login"
}
```

